# Saxon Scout - FRC 2025 REEFSCAPE Scouting System

## Project Summary

Saxon Scout is an advanced, web-based scouting system specifically designed for the FIRST Robotics Competition (FRC) 2025 REEFSCAPE season. Built by Team 611 Saxon Robotics, this system provides comprehensive data collection, analysis, and export capabilities for FRC teams to gain competitive advantages through strategic data insights.

### Key Capabilities
- **Real-time Match Scouting**: Rapid data collection during matches using intuitive grid-based interface
- **Pit Intelligence**: Comprehensive robot capability assessment and strategic planning
- **Advanced Analytics**: Data visualization with charts, trends, and performance metrics  
- **Professional Export**: CSV and ZIP export functionality for sharing with alliance partners
- **Offline Operation**: Local storage using File System Access API - no internet required
- **Scalable Architecture**: Designed to handle 20+ concurrent users during competitions

## Architecture Overview

### Frontend Architecture (Inferno.js SPA)
- **Framework**: Inferno.js (React-like virtual DOM) for optimal performance
- **Styling**: Bootstrap 5 for professional, responsive UI components
- **Build System**: esbuild for lightning-fast bundling and development
- **State Management**: Component-level state with history tracking for undo functionality
- **Data Persistence**: File System Access API for direct local file operations

### Backend Architecture (Express.js API)
- **Server Framework**: Express.js with TypeScript for type safety
- **Database**: PostgreSQL for user management and file tracking
- **Session Management**: Cookie-based authentication for user identification
- **API Endpoints**: RESTful endpoints for login, file logging, and optional AI integration
- **Development Mode**: Mock endpoints available for database-free testing

### Infrastructure & DevOps
- **Containerization**: Docker Compose for PostgreSQL deployment
- **Development**: Hot-reload TypeScript development with ts-node
- **Build Pipeline**: Automated TypeScript compilation and frontend bundling
- **Cross-Platform**: Compatible with Windows, macOS, and Linux

## Project Structure - Complete Directory Tree

```
Saxon-Scout-Official/
├── app/                           # Frontend Application
│   ├── src/
│   │   ├── assets/               # Static Assets
│   │   │   └── gamepiece.png        # FRC 2025 REEFSCAPE game piece image
│   │   ├── lib/                  # Utility Libraries
│   │   │   ├── fsStore.ts           # File System Access API wrapper
│   │   │   └── inferno-hooks-shim.ts # Hooks compatibility layer
│   │   ├── views/                # UI Components
│   │   │   ├── App.tsx              # Main application shell (Class Component)
│   │   │   ├── Home.tsx             # Navigation dashboard
│   │   │   ├── QuickScout.tsx       # Match scouting interface
│   │   │   ├── PitScout.tsx         # Robot capability assessment
│   │   │   ├── InfoViewer.tsx       # Data analytics and visualization
│   │   │   └── Export.tsx           # Data export and sharing
│   │   └── main.tsx                 # Application entry point
│   └── tsconfig.json                # Frontend TypeScript configuration
├── server/                       # Backend Server
│   ├── src/
│   │   └── server.ts                # Express.js API server
│   ├── tsconfig.json                # Server TypeScript configuration
│   └── test-server.js               # Development server (no database)
├── infra/                       # Infrastructure
│   ├── docker-compose.yml           # PostgreSQL container setup
│   └── schema.sql                   # Database schema definition
├── scripts/                     # Build Scripts
│   └── build-app.js                 # Frontend build automation
├── dist/                        # Compiled Output
│   ├── app/                         # Built frontend assets
│   │   ├── bundle.js               # Compiled JavaScript
│   │   ├── bundle.js.map           # Source maps
│   │   ├── index.html              # Main HTML template
│   │   └── assets/                 # Copied static assets
│   └── server/                     # Compiled server code
│       └── server.js               # Production server
├── WARP.md                      # Development guidance for Warp AI
├── README.md                    # Project documentation
├── LICENSE                      # MIT license
├── .wiki.md                    # Project wiki (this file)
├── package.json                    # Dependencies and scripts
└── package-lock.json               # Dependency lock file
```

## Core Module Descriptions

### Frontend Modules

#### **App.tsx - Command Center**
- **Type**: Class Component (converted from hooks for stability)
- **Purpose**: Top-level application shell managing global state
- **Responsibilities**: 
  - File System Access API integration
  - User authentication and session management
  - Navigation between scouting modules
  - Error handling and user feedback

#### **QuickScout.tsx - Rapid Strike Unit**
- **Purpose**: Match scouting interface for live data collection
- **Features**:
  - 3x3 grid interface mapped to FRC 2025 REEFSCAPE scoring
  - Auto/Teleop phase tracking with separate statistics
  - Real-time timer with start/stop functionality
  - Comprehensive undo system for error correction
  - Coral scoring (L1-L4) and Algae management (Processor/Net)
  - Endgame state tracking (None → Park → Shallow → Deep)

#### **PitScout.tsx - Intelligence Division**
- **Purpose**: Pre-competition robot capability assessment
- **Data Collection**:
  - Drivetrain specifications (Tank, Mecanum, Swerve, Other)
  - Autonomous capabilities and path preferences
  - Scoring zone preferences and cycle time estimates
  - Climb capabilities and strategic notes

#### **InfoViewer.tsx - War Room Analytics** 
- **Purpose**: Data visualization and team performance analysis
- **Features**:
  - Aggregated statistics by team across all matches
  - Chart.js integration for visual analytics
  - Performance trends and accuracy calculations
  - Optional AI-powered insights (GenAI integration ready)

#### **Export.tsx - Supply Logistics**
- **Purpose**: Professional data export and sharing capabilities
- **Export Formats**:
  - CSV files with comprehensive match data
  - ZIP archives containing raw JSON files
  - Separate exports for match data and pit scouting

### Backend Modules

#### **server.ts - Command Structure**
- **Purpose**: RESTful API server for user management and file tracking
- **Endpoints**:
  - `POST /api/login` - User authentication and session creation
  - `POST /api/log/file-created` - Track file creation events
  - `POST /api/genai/summarize` - AI-powered data insights (configurable)
- **Features**:
  - PostgreSQL integration for user and session management
  - Cookie-based authentication with development/production modes
  - Comprehensive error handling and logging

#### **test-server.js - Development Arsenal**
- **Purpose**: Database-free development server for rapid testing
- **Features**:
  - Mock API endpoints with console logging
  - Static file serving for frontend assets
  - No external dependencies - perfect for development

### Utility Libraries

#### **fsStore.ts - File System Warfare**
- **Purpose**: File System Access API abstraction layer
- **Capabilities**:
  - Directory picker with automatic subfolder creation
  - JSON file writing with pretty-printing
  - Error handling and browser compatibility checks
  - Organized file structure management (matches/, pit/, exports/, logs/)

#### **inferno-hooks-shim.ts - Hook Compatibility**
- **Purpose**: Hooks compatibility layer for Inferno.js
- **Implementation**: Custom useState, useEffect, and useRef implementations
- **Note**: Provides basic hook functionality where native Inferno hooks unavailable

## Technology Stack Deep Dive

### Frontend Technologies
- **Inferno.js 7.4.11**: React-like framework with smaller bundle size
- **TypeScript 5.8.3**: Type safety and enhanced developer experience
- **Bootstrap 5.3.3**: Professional UI components and responsive design
- **Chart.js 4.4.0**: Data visualization and analytics charts
- **esbuild 0.19.4**: Ultra-fast bundling and TypeScript compilation
- **JSZip 3.x**: Client-side ZIP file generation for exports

### Backend Technologies  
- **Express.js 4.x**: Web application framework
- **PostgreSQL**: Robust relational database for user management
- **pg 8.11.1**: PostgreSQL client for Node.js
- **TypeScript**: Server-side type safety
- **ts-node**: Development-time TypeScript execution

### Development & Infrastructure
- **Docker**: PostgreSQL containerization
- **npm**: Package management and build scripts
- **File System Access API**: Modern browser file access

## FRC 2025 REEFSCAPE Game Integration

### Coral Scoring System
- **L1 Coral**: Basic level coral scoring tracking
- **L2 Coral**: Mid-level coral placement monitoring  
- **L3 Coral**: High-level coral scoring analytics
- **L4 Coral**: Top-tier coral placement statistics
- **Phase Separation**: Distinct auto/teleop scoring periods

### Algae Management
- **Processor Scoring**: Algae placed into processor units
- **Net Scoring**: Algae scored into net targets
- **Cycle Analysis**: Robot cycle time estimation and tracking

### Endgame Excellence
- **State Transitions**: None → Park → Shallow Climb → Deep Climb
- **Foul Tracking**: Comprehensive penalty management
- **Mobility Bonus**: Autonomous leave tracking

## Development Workflow

### Quick Start Commands
```bash
# Development setup
npm install                 # Install dependencies
npm run build              # Full build (server + app)
npm run dev               # Development server
npm start                 # Production server

# Individual builds  
npm run build:server      # Compile TypeScript server
npm run build:app        # Bundle frontend application
npm run serve-app        # Serve static files only

# Database setup
cd infra && docker-compose up -d    # Start PostgreSQL
psql -h localhost -U frc -d scouting -f schema.sql  # Apply schema
```

### File Structure Conventions
- **Match Data**: `matches/team-{TEAM}__game-{MATCH}__alliance-{COLOR}__time-{TIMESTAMP}.json`
- **Pit Data**: `pit/team-{TEAM}__pit__time-{TIMESTAMP}.json`
- **Export Data**: `exports/matches_export.zip`, `exports/pit_export.zip`
- **Log Files**: `logs/` directory for system logs and debugging

### Browser Compatibility
- **Required**: Chromium-based browsers (Chrome, Edge, Opera)
- **File System Access API**: Essential for local data storage
- **Fallback**: Future IndexedDB implementation possible for broader compatibility

## Performance & Scalability

### Client-Side Performance
- **Bundle Size**: Optimized with Inferno.js for minimal footprint
- **Rendering**: Virtual DOM for efficient updates
- **Memory Management**: Component lifecycle optimization
- **Local Storage**: Direct file system access eliminates network bottlenecks

### Server Performance
- **Concurrent Users**: Designed for 20+ simultaneous users
- **Database**: PostgreSQL with indexed queries for fast lookups
- **API Design**: RESTful endpoints with minimal overhead
- **Session Management**: Efficient cookie-based authentication

### Competition Reliability
- **Offline Operation**: No internet required during matches
- **Data Persistence**: Local JSON files with automatic backup capability
- **Error Recovery**: Comprehensive undo system and error handling
- **Cross-Platform**: Works on team laptops, tablets, and competition computers
